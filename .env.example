# =========================================
# Scrouge Environment Variables
# =========================================
# Copy this file to .env or .env.local and fill in your values

# -----------------------------------------
# Local Development (Vite Dev Server)
# -----------------------------------------

# Required: Convex deployment URL
# Get this from your Convex dashboard: https://dashboard.convex.dev
VITE_CONVEX_URL=https://your-deployment.convex.cloud

# -----------------------------------------
# Production Server (Bun)
# -----------------------------------------

# Optional: Server port (defaults to 3000)
PORT=3000

# Optional: Node environment
NODE_ENV=production

# -----------------------------------------
# Convex Dashboard Environment Variables
# -----------------------------------------
# These are set in the Convex dashboard, not in .env files
# Go to: https://dashboard.convex.dev → Your Project → Settings → Environment Variables

# Required for AI chat encryption:
# AI_ENCRYPTION_KEY=<64 hex characters>
# Generate with: openssl rand -hex 32

# Optional for key rotation (set before rotating AI_ENCRYPTION_KEY):
# AI_ENCRYPTION_KEY_PREVIOUS=<old key>

# Optional: GitHub OAuth
# AUTH_GITHUB_ID=<your github oauth app id>
# AUTH_GITHUB_SECRET=<your github oauth app secret>

# Optional: Authentik OIDC
# AUTH_AUTHENTIK_ID=<your authentik client id>
# AUTH_AUTHENTIK_SECRET=<your authentik client secret>
# AUTH_AUTHENTIK_ISSUER=https://authentik.your-domain.com/application/o/scrouge/

# -----------------------------------------
# CI/CD Secrets (Gitea/GitHub)
# -----------------------------------------
# These are set in your repository settings → Secrets

# REGISTRY_TOKEN - Container registry authentication token
# VITE_CONVEX_URL - Convex URL for build (baked into bundle)
# CONVEX_URL - Convex URL for runtime
# DEPLOY_HOST - SSH host for deployment
# DEPLOY_USER - SSH username for deployment
# DEPLOY_SSH_KEY - SSH private key for deployment

# -----------------------------------------
# Key Rotation Guide
# -----------------------------------------
# To rotate the AI encryption key:
# 1. Generate new key: openssl rand -hex 32
# 2. Set AI_ENCRYPTION_KEY_PREVIOUS to current AI_ENCRYPTION_KEY
# 3. Set AI_ENCRYPTION_KEY to new key
# 4. Deploy and let users access their settings (triggers re-encryption)
# 5. After all users have accessed, remove AI_ENCRYPTION_KEY_PREVIOUS
